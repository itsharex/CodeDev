import { AppView } from "@/store/useAppStore";

export type LangKey = 'zh' | 'en';

const translations = {
  en: {
    menu: {
      prompts: "Prompt Verse",
      context: "Context Forge",
      patch: "Patch Weaver",
      memos: "Memos",
      files: "File Transfer",
      settings: "Settings"
    },
    sidebar: {
      library: "LIBRARY",
      all: "All Prompts",
      favorites: "Favorites",
      groups: "GROUPS",
      newGroup: "New Group"
    },
    prompts: {
      searchPlaceholder: "Search prompts (cmd, desc...)",
      new: "New",
      noResults: "No prompts found",
      copySuccess: "Copied to clipboard!",
      deleteTitle: "Delete Prompt?",
      deleteMessage: "Are you sure you want to delete \"{name}\"? This action cannot be undone.",
      confirmDelete: "Delete",
      cancel: "Cancel",
      official: "Official",
      local: "Local"
    },
    context: {
      searchPlaceholder: "Paste path or browse...",
      browse: "Browse...",
      scanning: "Scanning...",
      scan: "Scan",
      explorer: "EXPLORER",
      selectedCount: "{count} selected",
      invertSelection: "Invert Selection",
      filters: "Filters",
      emptyDir: "Empty directory",
      enterPath: "Enter a path to open",
      tabDashboard: "Dashboard",
      tabPreview: "Preview",
      toastCopied: "Context copied to clipboard!",
      toastCopyFail: "Failed to copy context",
      toastSaved: "Context saved to file!",
      toastSaveFail: "Failed to save file",
      filterDirs: "Folders",
      filterFiles: "Files",
      filterExts: "Exts",
      filterPlaceholder: "Ignore {type}...",
      noFilters: "No filters active",
      previewTitle: "Content Preview",
      chars: "{count} characters",
      generating: "Generating Preview...",
      noFiles: "No files selected.",
      copied: "Copied!",
      statSelected: "Selected Files",
      statSize: "Total Size",
      statTokens: "Est. Tokens",
      langBreakdown: "Language Breakdown",
      bySize: "By Size",
      estCost: "Est. API Cost (Input)",
      costNote: "Calculated based on current token count and synced pricing.",
      contextUsage: "Context Usage",
      topFiles: "Top Token Hogs",
      largestFiles: "Largest Files",
      tipSelect: "Select files from the left tree",
      btnCopy: "Copy to Clipboard",
      btnSave: "Save to File...",
      processing: "Processing...",
      removeComments: "Remove Comments",
      securityFilter: "Security Filter",
      securityFilterTooltip: "Scan for secrets before copying",
      selectAll: "Select All",
      deselectAll: "None",
      invertSel: "Invert",
      securityAlert: "Security Alert",
      issuesFound: "{count} Issues Found",
      securityMsg: "CtxRun detected potential sensitive information. Please review and uncheck any false positives (items you want to keep as-is).",
      willRedact: "Will Redact",
      keepRaw: "Keep Raw",
      originalKept: "Original Value Kept",
      itemsSelected: "{count} items selected to redact.",
      itemsIgnored: "{count} ignored.",
      ignoreAll: "Ignore All (Unsafe)",
      redactAll: "Redact All & Copy",
      redactSelected: "Redact Selected & Copy",
      ignoreForever: "Ignore unselected items permanently (Whitelist)",
    },
    patch: {
      loadFile: "Load Source File...",
      currentFile: "Current File",
      clear: "Clear",
      copyResult: "Copy Result",
      saveChanges: "Save Changes",
      aiPatchTitle: "AI Patch (YAML Format)",
      aiPatchPlaceholder: "Paste the YAML format patch generated by AI here...",
      originalTitle: "Original Code",
      originalPlaceholder: "Load a file or paste the original code here...",
      previewTitle: "Result Preview",
      previewPlaceholder: "The result after applying the patch will be displayed here...",
      noChanges: "No changes detected.",
      saveConfirmTitle: "Confirm Save",
      saveConfirmMessage: "Are you sure you want to overwrite the file \"{path}\"? This action cannot be undone.",
      confirm: "Confirm",
      cancel: "Cancel",
      toastCopied: "Result copied to clipboard!",
      toastSaved: "File saved successfully!",
      toastSaveFailed: "Failed to save file!",
      aiPatch: "AI Patch",
      manual: "Manual",
      aiInstruction: "AI Instruction",
      pasteAIResponse: "Paste AI response here...",
      pasteOriginal: "Paste original text here...",
      pasteModified: "Paste modified text here...",
      pasteToCompare: "Paste text above to compare",
      autoRecommended: "'Auto' is recommended. Choose a specific shell if your command requires it (e.g., PowerShell syntax).",
      chainCommands: "Use '&&' to chain commands",
      variableTip: "Tip: Use {{variable}} to create fillable slots",
      commandExample: "e.g. cd {{path}} && npm install",
      commandPlaceholder: "Enter command or prompt. Use {{variable}} for slots.",
      hideInputs: "Hide Inputs",
      editText: "Edit Text",
      modified: "Modified",
      noChangesLabel: "No Changes",
      selectFile: "Select a file from the sidebar to view diff",
      originalText: "Original Text",
      modifiedText: "Modified Text",
      promptTip: "Use this prompt to get the correct SEARCH/REPLACE format.",
      copySystemPrompt: "Copy System Prompt",
      copied: "Copied!",
      aiResponseInput: "AI Response Input",
      projectLoaded: "Project Loaded",
      aiRepairing: "AI repairing...",
      aiFixFailed: "AI Fix Failed",
      aiFixApplied: "AI Fix Applied!",
      saveFailed: "Save Failed",
      failedToMatch: "Failed to match {count} blocks",
      fileNotFound: "File not found on disk",
      browseProject: "Browse Project...",
      browseGit: "Browse Git Project...",
      baseVersion: "Base Version",
      compareVersion: "Compare Version",
      comparing: "Comparing...",
      generateDiff: "Generate Diff",
      gitTip: "Browse a Git project to automatically compare versions, or click 'Manual Comparison' to paste code manually.",
      binaryFile: "Binary File",
      largeFile: "Large File",
      export: "Export",
      exportSuccess: "Exported successfully!",
      selectOne: "Please select at least one file.",
      noDiff: "No differences found between the selected commits.",
      fixAI: "Fix with AI",
      aiFixing: "AI is fixing...",
      forceSave: "Force Save",
      commitSelectPlaceholder: "Select a commit...",
      commitSearchPlaceholder: "Search by message or hash..."
    },
    editor: {
      titleNew: "New Prompt",
      titleEdit: "Edit Prompt",
      labelTitle: "TITLE",
      labelGroup: "GROUP",
      labelContent: "CONTENT TEMPLATE",
      placeholderTitle: "e.g. Git Undo Commit",
      placeholderGroup: "New group name...",
      placeholderContent: "Enter command or prompt. Use {{variable}} for slots.",
      tip: "Tip: Use {{variable}} to create fillable slots",
      btnSave: "Save Prompt",
      btnCancel: "Cancel",
      btnNewGroup: "New Group",
      typePrompt: "Prompt",
      typeCommand: "Command",
      executable: "Executable Command",
      executableDesc: "Run this in the system terminal instead of copying.",
      execShell: "Execution Shell",
      autoDetect: "Auto Detect"
    },
    filler: {
      title: "Fill Variables",
      preview: "PREVIEW RESULT",
      btnCopy: "Copy Result",
      btnCancel: "Cancel"
    },
    settings: {
      title: "Settings",
      navAppearance: "Appearance",
      navLanguage: "Language",
      navFilters: "Global Filters",
      navLibrary: "Library",
      navAI: "AI Configuration",
      appearance: "Appearance",
      language: "Language",
      themeDark: "Dark Theme",
      themeLight: "Light Theme",
      langEn: "English",
      langZh: "Chinese (Simplified)",
      filtersTitle: "Global Ignore Rules",
      filtersDesc: "Files matching these rules will be excluded from ALL projects by default.",
      close: "Close",
      spotlightSize: "Spotlight Window Size",
      width: "Width",
      widthTip: "Adjust the width of the command palette (500px - 1000px).",
      defaultHeight: "Default Height",
      chatHeight: "Max Chat Height",
      aiTitle: "AI Provider Settings",
      aiDesc: "Configure your LLM provider to enable Spotlight AI Chat.",
      provider: "Provider",
      apiKey: "API Key",
      apiKeyTip: "Your key is stored locally and never synced.",
      temp: "Temperature",
      tempTip: "Controls randomness: Lower values are more deterministic, higher values are more creative.",
      baseUrl: "Base URL (Optional)",
      modelId: "Model ID",
      restReminder: "Rest Reminder",
      restReminderEnabled: "Enable Rest Reminder",
      restReminderDesc: "Get notified to take breaks at regular intervals",
      restReminderInterval: "Reminder Interval",
      minutes: "minutes",
      shortcutLabel: "Spotlight Shortcut",
      shortcutPressKeys: "Press keys...",
      shortcutNotSet: "Not set",
      shortcutClear: "Clear shortcut",
      shortcutTip: "Click to record. Recommended: Alt+S, Ctrl+Space.",
      langSubLabelZh: "Chinese Simplified",
      langSubLabelEn: "English",
      baseUrlPlaceholder: "https://api.example.com",
      navData: "Data Management",
      dataTitle: "Data Backup & Migration",
      dataDesc: "Manage your prompts via CSV files. Excel compatible.",
      promptsBackup: "Prompts Backup",
      exportTitle: "Export Data",
      exportDesc: "Download all prompts to a .csv file.",
      btnExportCsv: "Export to CSV",
      importTitle: "Import Data",
      importDesc: "Restore prompts from a .csv file.",
      btnImportCsv: "Import from CSV",
      exportSuccess: "Export successful",
      importSuccess: "Import successful",
      importModeTitle: "Import Strategy",
      importModeMsg: "Do you want to overwrite all existing local prompts?",
      btnOverwrite: "Overwrite All",
      btnMerge: "Merge (Keep Existing)",
      csvTip: "Tip: The exported CSV includes a BOM header for Excel compatibility. When importing, missing IDs will be treated as new items.",
      projectConfigTitle: "Project Configs",
      projectConfigDesc: "Backup or restore filter rules for all your projects.",
      configBackup: "Config Backup",
      btnExportJson: "Export JSON",
      btnImportJson: "Import JSON",
      importProjectConfigTitle: "Import Project Configs",
      importProjectConfigMsg: "Do you want to overwrite existing project configs with the same path?",
      navSecurity: "Security & Whitelist",
      securityTitle: "Ignored Secrets (Whitelist)",
      securityDesc: "These strings will be ignored in future security scans.",
      value: "Value",
      rule: "Rule ID",
      addedAt: "Added At",
      noIgnored: "No ignored secrets yet.",
      confirmDeleteSecret: "Remove from whitelist? It will be detected again in future scans."
    },
    library: {
      title: "Official Library",
      desc: "Download offline prompt packs. Data source: ",
      update: "Update",
      download: "Download",
      installed: "Installed",
      uninstall: "Uninstall",
      prompts: "prompts",
      noPacks: "No packs available for current language.",
      loading: "Loading library...",
      refresh: "Refresh",
      unknownError: "Unknown error",
      openSource: "Open {url}"
    },
    spotlight: {
      searchPlaceholder: "Search commands...",
      chatPlaceholder: "Ask AI anything...",
      noCommands: "No matching commands.",
      filterPlaceholder: "Filter by",
      aiReady: "AI Assistant Ready",
      aiDesc: "Type your question and press Enter to start chatting with",
      ephemeral: "Ephemeral Mode (History not saved)",
      thinking: "Thinking Process",
      results: "results",
      console: "AI Console",
      nav: "Navigate",
      enter: "Enter",
      copy: "Copy",
      clear: "Clear",
      send: "Send",
      close: "Close",
      copyMessage: "Copy message",
      toggleMode: "Toggle Mode (Tab)",
      currentProvider: "Current: {provider}. Click to switch.",
      actionRequired: "Action Required",
      commandHasVariables: "This command has variables. Please use it from the main window to fill them in.",
      openLink: "Open Link",
      visitedTimes: "Visited {count} times",
      Apps: "Apps",
      Commands: "Commands",
      Prompts: "Prompts",
      executeCommand: "Execute Command",
      mathResult: "Math Result",
      copyResult: "Copy Result",
      runInTerminal: "Run in terminal",
      application: "Application",
      openApp: "Open",
      restReminder: "Rest Reminder",
      appIndex: "Application Index",
      rebuildAppIndex: "Rebuild the application launch index for Spotlight (Recommended after installing new apps).",
      appIndexStored: "Index is stored in local database.",
      refreshIndexNow: "Refresh Index Now",
      envReport: "Environment Report",
      generatedBy: "Generated by CtxRun"
    },
    actions: {
      collapse: "Collapse Sidebar",
      expand: "Expand Sidebar",
      edit: "Edit",
      delete: "Delete",
      copy: "Copy",
      run: "Run"
    },
    clock: {
      timeDetails: "Time Details",
      fullTime: "Full Time",
      weekday: "Weekday",
      timezone: "Timezone",
      systemInfo: "System Info",
      cpuUsage: "CPU Usage",
      memory: "Memory",
      available: "Available",
      systemUptime: "System Uptime",
      quickActions: "Quick Actions",
      copyTimestamp: "Timestamp",
      copyISO: "ISO Format",
      copyFull: "Full Time"
    },
    common: {
      highRiskWarning: "High risk action. Please review carefully.",
      selectFolder: "Select folder",
      clear: "Clear",
      clearAll: "Clear all text",
      hideSidebar: "Hide Sidebar",
      showSidebar: "Show Sidebar",
      ignoredByFilter: "Ignored by filter settings",
      managedByGlobal: "Managed by Global Settings",
      waitingForInputs: "Waiting for inputs...",
      search: "Search",
      loading: "Loading...",
      noComments: "No Comments",
      unsaved: "Unsaved Draft",
      split: "Split",
      unified: "Unified",
      copied: "Copied",
      copy: "Copy",
      error: "Error",
      loadingEditor: "Loading Editor...",
      previewError: "Preview generation failed",
      slashCommands: "SLASH COMMANDS",
      navHint: "TAB / ↑↓ to navigate",
      prompts: "Prompts",
      commands: "Commands",
      whitelistNote: "Note: Removed items will trigger alerts again in the next scan. Whitelist is based on exact content matching.",
      restReminderBody: "You've been working for {minutes} minutes. Time to take a break!",
      loadingModule: "Loading module...",
      failedToLaunch: "Failed to launch: {error}",
      failedToOpenUrl: "Failed to open URL: {error}",
      noFilesSelected: "No files selected",
      removeFromContext: "Remove from context",
      loadingMore: "Loading more...",
      runCommand: "Run Command",
      copyResult: "Copy Result",
      loadingDiff: "Loading Diff...",
      noTags: "No tags",
      errorMsg: "Error: {msg}",
      exportFailed: "Export failed: {msg}",
      fileHasErrors: "This file has errors. Saving might break code.",
      chatSlashCommand: "Chat Slash Command",
      chatSlashCommandDesc: "Type '/' + Title in chat to invoke",
      triggerLabel: "Trigger:",
      rename: "Rename",
      renameHelp: "Double-click or use the icon to rename."
    },
    export: {
      title: "Export Changes",
      selected: "{count} files selected",
      layout: "Content Layout",
      format: "File Format",
      split: "Split Mode",
      splitDesc: "Full content side-by-side",
      unified: "Editor Mode",
      unifiedDesc: "Full content with +/- markers",
      gitPatch: "Git Patch",
      gitPatchDesc: "Standard diff (minimal context)",
      markdown: "Markdown (Recommended)",
      json: "JSON",
      xml: "XML",
      txt: "Plain Text",
      btnCancel: "Cancel",
      btnExport: "Export"
    },
    executor: {
      riskTitle: "High Risk Action",
      riskMsg: "This command contains potentially dangerous operations (delete, move, overwrite, etc.).\n\nCommand:\n{command}",
      btnExecute: "Execute",
      unsupported: "Unsupported OS",
      scanFailed: "Failed to scan ports",
      cannotKillSystem: "Cannot kill system process."
    },
    toast: {
      copied: "Copied!",
      copySuccess: "Copied to clipboard!",
      copyFailed: "Copy failed",
      saved: "Saved successfully!",
      saveFailed: "Save failed",
      error: "Error: {msg}",
      contextCopied: "Context copied!",
      contextCopyFailed: "Failed to copy context",
      contextSaved: "Context saved to file!",
      portScanFailed: "Failed to scan ports",
      cannotKillSystem: "Cannot kill system process."
    },
    monitor: {
      title: "System Monitor",
      navDashboard: "Dashboard",
      navPorts: "Port & lock",
      navEnv: "Environment",
      navNetwork: "Network Analysis",
      // Dashboard
      cpu: "CPU Usage",
      memory: "Memory Usage",
      diskRead: "Disk Read",
      diskWrite: "Disk Write",
      netUp: "Upload",
      netDown: "Download",
      topProcesses: "Top Processes",
      procName: "Name",
      procPid: "PID",
      procCpu: "CPU%",
      procMem: "Mem",
      procUser: "User",
      kill: "End Task",
      killDenied: "Action Denied: System Process",
      systemProcess: "System Process",
      action: "Action",
      autoRefresh: "Auto-refresh",
      totalLoad: "Total Load",
      systemProcessProtected: "System Process Protected",
      // Ports & lock
      tabPorts: "Active Ports",
      tabFiles: "File Locks",
      searchPorts: "Search ports (e.g. 3000, node)...",
      port: "Port",
      proto: "Proto",
      localAddr: "Local Address",
      emptyPorts: "No active ports found matching search.",
      confirmKill: "Confirm Kill",
      killMsg: "Are you sure you want to kill process \"{name}\" (PID: {pid})?",
      killSuccess: "Process killed successfully.",
      refresh: "Refresh",
      systemPort: "System Port",
      protected: "System Process Protected",
      checkLocks: "Check Occupancy",
      pathPlaceholder: "Enter file or folder path...",
      browse: "Browse",
      checking: "Checking...",
      noLocks: "No locks detected. The file is free.",
      locksFound: "{count} processes are using this file.",
      killWarnExplorer: "Restarting Explorer will refresh your desktop.",
      restart: "Restart",
      fileLockCheckFailed: "File lock check failed",
      enterPathHint: "Enter a path to see which processes are using it.",
      // Env
      envTool: "Tool / Runtime",
      envToolFilter: "Filter tools...",
      envVer: "Version",
      envStatus: "Status",
      envInstalled: "Installed",
      envNotFound: "Not Found",
      copyReport: "Copy Report",
      envScanDesc: "Deep scan your development environment to detect installed tools, versions, IDEs, databases, and project dependencies.",
      envStartScan: "Start Environment Scan",
      envFingerprint: "Environment Fingerprint",
      envRescan: "Rescan",
      envScanning: "Scanning system environment...",
      envSystem: "System",
      envBinaries: "Binaries",
      envLanguages: "Languages",
      envBrowsers: "Browsers",
      envIDEs: "IDEs",
      envDatabases: "Databases",
      envVirtualization: "Virtualization",
      envNpmPackages: "NPM Packages (Current Project)",
      envManagers: "Managers",
      envUtilities: "Utilities",
      envSDKs: "SDKs",
      envNoMatches: "No matches found.",
      copyAiContext: "Copy AI Context",
      contextCopied: "Context Copied!",
      aiContextTooltip: "Generate and copy summarized context for AI prompts",
      removeFromContext: "Remove from context",
      // Network
      netTarget: "Service / Target",
      netStatus: "Status",
      netLatency: "Latency",
      netCode: "Code",
      diagnose: "Diagnose",
      diagnosing: "Diagnosing...",
      statusSuccess: "Good",
      statusSlow: "Slow",
      statusFail: "Failed",
      netCheckDesc: "Connectivity & Latency Check",
      // Git
      commitSelectPlaceholder: "Select a commit...",
      commitSearchPlaceholder: "Search by message or hash...",
    }
  },
  zh: {
    menu: {
      prompts: "提词库",
      context: "文件整合",
      patch: "代码对比",
      memos: "备忘录",
      files: "文件传输",
      settings: "设置"
    },
    sidebar: {
      library: "资料库",
      all: "全部指令",
      favorites: "我的收藏",
      groups: "分组列表",
      newGroup: "新建分组"
    },
    prompts: {
      searchPlaceholder: "搜索指令 (名称、描述、代码)...",
      new: "新建指令",
      noResults: "没有找到相关指令",
      copySuccess: "已复制到剪贴板",
      deleteTitle: "确认删除?",
      deleteMessage: '确定要删除指令 "{name}" 吗？此操作无法撤销',
      confirmDelete: "确认删除",
      cancel: "取消",
      official: "官方",
      local: "本地"
    },
    context: {
      searchPlaceholder: "粘贴路径或浏览...",
      browse: "浏览...",
      scanning: "扫描中...",
      scan: "扫描",
      explorer: "资源管理器",
      selectedCount: "已选 {count} 项",
      invertSelection: "反选",
      filters: "过滤规则",
      emptyDir: "空目录",
      enterPath: "请输入或选择路径",
      tabDashboard: "仪表盘",
      tabPreview: "预览",
      toastCopied: "上下文已复制到剪贴板！",
      toastCopyFail: "复制失败",
      toastSaved: "上下文已保存到文件！",
      toastSaveFail: "保存文件失败",
      filterDirs: "文件夹",
      filterFiles: "文件",
      filterExts: "后缀",
      filterPlaceholder: "忽略 {type}...",
      noFilters: "暂无过滤规则",
      previewTitle: "内容预览",
      chars: "{count} 字符",
      generating: "正在生成预览...",
      noFiles: "未选择任何文件",
      copied: "已复制!",
      statSelected: "选中文件",
      statSize: "总大小",
      statTokens: "预估 Token",
      langBreakdown: "语言分布",
      bySize: "按比例",
      estCost: "预估 API 成本 (输入)",
      costNote: "基于当前 Token 数量和云端价格计算",
      contextUsage: "上下文窗口占用",
      topFiles: "Token 消耗大户",
      largestFiles: "最大文件 Top 5",
      tipSelect: "请从左侧文件树选择文件",
      btnCopy: "复制上下文",
      btnSave: "保存为文件...",
      processing: "处理中...",
      removeComments: "移除注释",
      securityAlert: "安全警告",
      issuesFound: "发现 {count} 个问题",
      securityMsg: "检测到潜在的敏感信息，请审查并取消勾选误报项（即您希望保留原样的项目）",
      willRedact: "脱敏",
      keepRaw: "保留明文",
      originalKept: "保留原始值",
      itemsSelected: "已选 {count} 项进行脱敏",
      itemsIgnored: "忽略 {count} 项",
      ignoreAll: "全部忽略 (不安全)",
      redactAll: "全部脱敏并复制",
      redactSelected: "脱敏选中项并复制",
      ignoreForever: "永久忽略未选中的项目 (加入白名单)",
      securityFilter: "安全检测",
      securityFilterTooltip: "复制前检测敏感信息 (API Key 等)",
      selectAll: "全选",
      deselectAll: "全不选",
      invertSel: "反选",
    },
    patch: {
      loadFile: "加载源文件...",
      currentFile: "当前文件",
      clear: "清空",
      copyResult: "复制结果",
      saveChanges: "保存变更",
      aiPatchTitle: "AI 补丁 (YAML 格式)",
      aiPatchPlaceholder: "请在此处粘贴 AI 生成的 YAML 格式补丁...",
      originalTitle: "原始代码",
      originalPlaceholder: "请加载文件或在此处粘贴原始代码...",
      previewTitle: "结果预览",
      previewPlaceholder: "应用补丁后的结果将在此显示...",
      noChanges: "未检测到任何变更",
      saveConfirmTitle: "确认保存",
      saveConfirmMessage: '您确定要覆盖文件 "{path}" 吗？此操作无法撤销',
      confirm: "确认",
      cancel: "取消",
      toastCopied: "结果已复制到剪贴板！",
      toastSaved: "文件保存成功！",
      toastSaveFailed: "文件保存失败！",
      aiPatch: "AI 补丁",
      manual: "对比",
      aiInstruction: "AI 指令",
      pasteAIResponse: "在此粘贴 AI 响应...",
      pasteOriginal: "在此粘贴原始文本...",
      pasteModified: "在此粘贴修改后的文本...",
      pasteToCompare: "在上方粘贴文本以进行比较",
      autoRecommended: "推荐使用 'Auto'，如果命令需要特定 Shell（如 PowerShell 语法），请选择对应的 Shell",
      chainCommands: "使用 '&&' 连接多个命令",
      variableTip: "提示：使用 {{变量名}} 创建填空位",
      commandExample: "例如：cd {{path}} && npm install",
      commandPlaceholder: "输入命令或 Prompt，使用 {{变量}} 创建填空位",
      hideInputs: "隐藏输入",
      editText: "编辑文本",
      modified: "已修改",
      noChangesLabel: "无变更",
      selectFile: "从侧边栏选择文件以查看差异",
      originalText: "原始文本",
      modifiedText: "修改后文本",
      promptTip: "使用此提示词可获取正确的 SEARCH/REPLACE 格式",
      copySystemPrompt: "复制系统提示词",
      copied: "已复制！",
      aiResponseInput: "AI 响应输入",
      projectLoaded: "项目已加载",
      aiRepairing: "AI 正在修复...",
      aiFixFailed: "AI 修复失败",
      aiFixApplied: "AI 修复已应用！",
      saveFailed: "保存失败",
      failedToMatch: "匹配失败 {count} 个代码块",
      fileNotFound: "文件在磁盘上未找到",
      browseProject: "浏览项目...",
      browseGit: "浏览 Git 仓库...",
      baseVersion: "基准版本",
      compareVersion: "比较版本",
      comparing: "对比中...",
      generateDiff: "对比差异",
      gitTip: "浏览 Git 项目以自动比较版本，或点击「对比」进行手动代码粘贴",
      binaryFile: "二进制文件",
      largeFile: "大文件",
      export: "导出",
      exportSuccess: "导出成功！",
      selectOne: "请至少选择一个文件",
      noDiff: "所选提交之间没有差异",
      fixAI: "AI 修复",
      aiFixing: "AI 正在修复...",
      forceSave: "强制保存",
      commitSelectPlaceholder: "选择一个提交...",
      commitSearchPlaceholder: "按消息或哈希搜索..."
    },
    editor: {
      titleNew: "新建指令",
      titleEdit: "编辑指令",
      labelTitle: "标题",
      labelGroup: "分类",
      labelContent: "内容模板",
      placeholderTitle: "例如：Git 撤销 Commit",
      placeholderGroup: "输入新分类名称...",
      placeholderContent: "输入命令或 Prompt。支持变量：{{name}}",
      tip: "提示: 使用 {{变量名}} 创建填空位",
      btnSave: "保存指令",
      btnCancel: "取消",
      btnNewGroup: "新建",
      typePrompt: "提示词 (Prompt)",
      typeCommand: "命令 (Command)",
      executable: "可执行命令",
      executableDesc: "直接在系统终端中运行，而不是复制到剪贴板",
      execShell: "执行 Shell",
      autoDetect: "自动检测"
    },
    filler: {
      title: "填充变量",
      preview: "预览结果",
      btnCopy: "复制结果",
      btnCancel: "取消"
    },
    settings: {
      title: "设置",
      navAppearance: "外观设置",
      navLanguage: "语言选项",
      navFilters: "全局过滤",
      navLibrary: "指令商店",
      navAI: "AI 配置",
      appearance: "外观与显示",
      language: "语言偏好",
      themeDark: "深色模式",
      themeLight: "亮色模式",
      langEn: "English",
      langZh: "简体中文",
      filtersTitle: "全局忽略规则",
      filtersDesc: "匹配这些规则的文件将默认从所有项目中排除（如 node_modules）",
      close: "关闭",
      spotlightSize: "Spotlight 窗口尺寸",
      width: "宽度",
      widthTip: "调整命令面板的宽度 (500px - 1000px)",
      defaultHeight: "默认高度",
      chatHeight: "对话最大高度",
      aiTitle: "AI 服务商设置",
      aiDesc: "配置您的大模型服务商以启用 Spotlight AI 对话功能",
      provider: "服务商",
      apiKey: "API Key",
      apiKeyTip: "您的 Key 仅存储在本地，不会上传到云端",
      temp: "温度 (Temperature)",
      tempTip: "控制随机性：数值越低越严谨，数值越高越有创造力",
      baseUrl: "API 地址 (可选)",
      modelId: "模型 ID",
      restReminder: "休息提醒",
      restReminderEnabled: "启用休息提醒",
      restReminderDesc: "定期提醒您休息，保护眼睛和健康",
      restReminderInterval: "提醒间隔",
      minutes: "分钟",
      shortcutLabel: "Spotlight 快捷键",
      shortcutPressKeys: "按下按键...",
      shortcutNotSet: "未设置",
      shortcutClear: "清除快捷键",
      shortcutTip: "点击设置  推荐：Alt+S, Ctrl+Space",
      langSubLabelZh: "简体中文",
      langSubLabelEn: "English",
      baseUrlPlaceholder: "https://api.example.com",
      navData: "数据管理",
      dataTitle: "数据备份与迁移",
      dataDesc: "通过 CSV 文件管理您的指令，支持 Excel 兼容",
      promptsBackup: "指令数据备份",
      exportTitle: "导出数据",
      exportDesc: "将所有指令导出为 .csv 文件",
      btnExportCsv: "导出为 CSV",
      importTitle: "导入数据",
      importDesc: "从 .csv 文件恢复指令",
      btnImportCsv: "从 CSV 导入",
      exportSuccess: "导出成功",
      importSuccess: "导入成功",
      importModeTitle: "导入策略",
      importModeMsg: "是否覆盖所有现有的本地指令？",
      btnOverwrite: "覆盖全部",
      btnMerge: "合并 (保留现有)",
      csvTip: "提示：导出的 CSV 包含 BOM 头以支持 Excel 打开，导入时缺失的 ID 将被视为新项目",
      projectConfigTitle: "项目配置管理",
      projectConfigDesc: "备份或恢复您所有项目的过滤规则设置",
      configBackup: "配置备份",
      btnExportJson: "导出 JSON",
      btnImportJson: "导入 JSON",
      importProjectConfigTitle: "导入项目配置",
      importProjectConfigMsg: "是否覆盖路径相同的现有项目配置？",
      navSecurity: "安全与白名单",
      securityTitle: "已忽略的敏感词 (白名单)",
      securityDesc: "以下字符串将在未来的安全扫描中被自动忽略。",
      value: "内容",
      rule: "规则 ID",
      addedAt: "添加时间",
      noIgnored: "暂无忽略记录。",
      confirmDeleteSecret: "确定从白名单移除？移除后下次扫描将再次报警。"
    },
    library: {
      title: "官方指令库",
      desc: "下载离线指令包到本地。数据来源：",
      update: "更新",
      download: "下载",
      installed: "已安装",
      uninstall: "卸载",
      prompts: "条指令",
      noPacks: "当前语言暂无可用数据包。",
      loading: "正在加载商店...",
      refresh: "刷新",
      unknownError: "未知错误",
      openSource: "打开 {url}"
    },
    spotlight: {
      searchPlaceholder: "搜索指令...",
      chatPlaceholder: "询问 AI...",
      noCommands: "没有匹配的指令。",
      filterPlaceholder: "筛选",
      aiReady: "AI 助手就绪",
      aiDesc: "输入问题并按回车键，开始与",
      ephemeral: "即时模式 (不保存历史记录)",
      thinking: "思考过程",
      results: "项结果",
      console: "AI 控制台",
      nav: "选择",
      enter: "确认",
      copy: "复制",
      clear: "清空",
      send: "发送",
      close: "关闭",
      copyMessage: "复制消息",
      toggleMode: "切换模式 (Tab)",
      currentProvider: "当前：{provider}，点击切换",
      actionRequired: "需要操作",
      commandHasVariables: "此命令包含变量，请在主窗口中使用以填充变量",
      openLink: "打开",
      visitedTimes: "访问 {count} 次",
      Apps: "应用",
      Commands: "命令",
      Prompts: "提示词",
      executeCommand: "执行命令",
      mathResult: "计算结果",
      copyResult: "复制结果",
      runInTerminal: "在终端中运行",
      application: "应用程序",
      openApp: "打开",
      restReminder: "休息提醒",
      appIndex: "应用索引",
      rebuildAppIndex: "重建 Spotlight 的应用程序启动索引（建议安装新软件后刷新）",
      appIndexStored: "索引存储在本地数据库中",
      refreshIndexNow: "立即刷新索引",
      envReport: "环境报告",
      generatedBy: "由 CtxRun 生成"
    },
    actions: {
      collapse: "收起侧栏",
      expand: "展开侧栏",
      edit: "编辑",
      delete: "删除",
      copy: "复制",
      run: "运行"
    },
    clock: {
      timeDetails: "时间详情",
      fullTime: "完整时间",
      weekday: "星期",
      timezone: "时区",
      systemInfo: "系统信息",
      cpuUsage: "CPU 使用率",
      memory: "内存",
      available: "可用",
      systemUptime: "系统运行时长",
      quickActions: "快速操作",
      copyTimestamp: "时间戳",
      copyISO: "ISO 格式",
      copyFull: "完整时间"
    },
    common: {
      highRiskWarning: "高风险操作，请仔细审查！",
      selectFolder: "选择文件夹",
      clear: "清空",
      clearAll: "清空所有文本",
      hideSidebar: "隐藏侧边栏",
      showSidebar: "显示侧边栏",
      ignoredByFilter: "已被过滤规则忽略",
      managedByGlobal: "由全局设置管理",
      waitingForInputs: "等待输入...",
      search: "搜索",
      loading: "加载中...",
      noComments: "无注释",
      unsaved: "未保存草稿",
      split: "分栏",
      unified: "合并",
      copied: "已复制",
      copy: "复制",
      error: "错误",
      loadingEditor: "加载编辑器中...",
      previewError: "预览生成失败",
      slashCommands: "快捷指令",
      navHint: "TAB / ↑↓ 切换",
      prompts: "提示词",
      commands: "命令",
      whitelistNote: "注意：此处移除的项目将在下一次扫描中重新触发警告。白名单基于内容精确匹配。",
      restReminderBody: "您已经工作了 {minutes} 分钟，建议休息一下！",
      loadingModule: "加载模块中...",
      failedToLaunch: "启动失败：{error}",
      failedToOpenUrl: "打开链接失败：{error}",
      noFilesSelected: "未选择文件",
      removeFromContext: "从上下文中移除",
      loadingMore: "加载更多...",
      runCommand: "运行命令",
      copyResult: "复制结果",
      loadingDiff: "加载差异中...",
      noTags: "无标签",
      errorMsg: "错误：{msg}",
      exportFailed: "导出失败：{msg}",
      fileHasErrors: "此文件存在错误，保存可能会破坏代码。",
      chatSlashCommand: "聊天快捷指令",
      chatSlashCommandDesc: "在 AI 聊天中输入 '/' + 标题 快速调用",
      triggerLabel: "调用指令：",
      rename: "重命名",
      renameHelp: "双击或使用图标重命名"
    },
    export: {
      title: "导出变更",
      selected: "已选 {count} 个文件",
      layout: "内容布局",
      format: "文件格式",
      split: "分栏模式",
      splitDesc: "左右并排显示完整内容",
      unified: "编辑器模式",
      unifiedDesc: "包含 +/- 标记的完整内容",
      gitPatch: "Git 补丁",
      gitPatchDesc: "标准 Diff 格式 (最小上下文)",
      markdown: "Markdown (推荐)",
      json: "JSON",
      xml: "XML",
      txt: "纯文本",
      btnCancel: "取消",
      btnExport: "导出"
    },
    executor: {
      riskTitle: "高风险操作",
      riskMsg: "此命令包含潜在的危险操作（删除、移动、覆盖等）。\n\n命令内容：\n{command}",
      btnExecute: "确认执行",
      unsupported: "不支持的操作系统",
      scanFailed: "端口扫描失败",
      cannotKillSystem: "无法结束系统进程"
    },
    toast: {
      copied: "已复制！",
      copySuccess: "已复制到剪贴板！",
      copyFailed: "复制失败",
      saved: "保存成功！",
      saveFailed: "保存失败",
      error: "错误：{msg}",
      contextCopied: "上下文已复制！",
      contextCopyFailed: "复制上下文失败",
      contextSaved: "上下文已保存到文件！",
      portScanFailed: "端口扫描失败",
      cannotKillSystem: "无法结束系统进程"
    },
    monitor: {
      title: "系统监视器",
      navDashboard: "概览",
      navPorts: "端口与占用",
      navEnv: "开发环境",
      navNetwork: "网络诊断",
      cpu: "CPU 使用率",
      memory: "内存使用",
      diskRead: "磁盘读取",
      diskWrite: "磁盘写入",
      netUp: "上传速率",
      netDown: "下载速率",
      topProcesses: "Top 进程",
      procPid: "PID",
      procCpu: "CPU%",
      procMem: "内存",
      procUser: "用户",
      kill: "结束进程",
      killDenied: "操作拒绝：系统进程",
      systemProcess: "系统进程",
      action: "操作",
      autoRefresh: "自动刷新",
      totalLoad: "总负载",
      systemProcessProtected: "系统进程受保护",
      tabPorts: "活跃端口",
      tabFiles: "文件占用",
      searchPorts: "搜索端口 (如 3000, node)...",
      port: "端口",
      proto: "协议",
      localAddr: "监听地址",
      emptyPorts: "未找到匹配的活跃端口。",
      confirmKill: "确认结束",
      killMsg: '您确定要结束进程 "{name}" (PID: {pid}) 吗？',
      killSuccess: "进程已结束",
      refresh: "刷新",
      systemPort: "系统端口",
      protected: "受保护的系统进程",
      checkLocks: "检测占用",
      pathPlaceholder: "输入文件或文件夹路径...",
      browse: "浏览",
      checking: "检测中...",
      noLocks: "未检测到占用，文件自由",
      locksFound: "发现 {count} 个进程正在占用",
      killWarnExplorer: "重启资源管理器会导致桌面刷新",
      restart: "重启",
      fileLockCheckFailed: "文件占用检测失败",
      enterPathHint: "输入路径以查看占用该文件的进程",
      envTool: "工具 / 运行时",
      envToolFilter: "过滤工具...",
      envVer: "版本号",
      envStatus: "状态",
      envInstalled: "已安装",
      envNotFound: "未找到",
      copyReport: "复制报告",
      envScanDesc: "深度扫描开发环境，检测已安装的工具、版本、IDE、数据库和项目依赖",
      envStartScan: "开始环境扫描",
      envFingerprint: "环境指纹",
      envRescan: "重新扫描",
      envScanning: "正在扫描系统环境...",
      envSystem: "系统信息",
      envBinaries: "二进制工具",
      envLanguages: "编程语言",
      envBrowsers: "浏览器",
      envIDEs: "IDE",
      envDatabases: "数据库",
      envVirtualization: "虚拟化",
      envNpmPackages: "NPM 包 (当前项目)",
      envManagers: "包管理器",
      envUtilities: "系统工具",
      envSDKs: "SDK",
      envNoMatches: "未找到匹配项。",
      copyAiContext: "复制 AI 上下文",
      contextCopied: "上下文已复制！",
      aiContextTooltip: "生成并复制 AI 提示词摘要上下文",
      removeFromContext: "从上下文中移除",
      netTarget: "服务 / 目标",
      netStatus: "连通性",
      netLatency: "延迟",
      netCode: "状态码",
      diagnose: "开始诊断",
      diagnosing: "诊断中...",
      statusSuccess: "极佳",
      statusSlow: "缓慢",
      statusFail: "失败",
      netCheckDesc: "连通性与延迟检测",
      commitSelectPlaceholder: "选择提交...",
      commitSearchPlaceholder: "按消息或哈希搜索...",
    }
  }
};

export function getMenuLabel(view: AppView, lang: LangKey): string {
  return translations[lang].menu[view];
}

export function getText(
  section: keyof typeof translations['en'],
  key: string,
  lang: LangKey,
  vars?: Record<string, string>
): string {
  // @ts-ignore
  let text = translations[lang][section]?.[key] || key;

  if (vars) {
    Object.entries(vars).forEach(([k, v]) => {
      text = text.replace(`{${k}}`, v);
    });
  }

  return text;
}